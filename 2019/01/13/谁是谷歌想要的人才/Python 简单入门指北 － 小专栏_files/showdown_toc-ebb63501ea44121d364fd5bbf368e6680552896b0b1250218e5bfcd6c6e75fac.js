!function(t){"use strict";if("object"==typeof showdown)showdown.extension("toc",t());else if("function"==typeof define&&define.amd)define("toc",t());else{if("object"!=typeof exports)throw Error("Could not find showdown library");module.exports=t()}}(function(){function t(t){return"undefined"==typeof window?n(t):e(t)}function n(t){for(var n=require("cheerio"),e=n.load(t),i=e("h1, h2, h3, h4, h5, h6"),o=[],h=0;h<i.length;h++){var u=i[h];o.push(new r(u.name,e(u).text(),e(u).attr("id")))}return o}function e(t){var n=document.createElement("div");n.innerHTML=t;for(var e=n.querySelectorAll("h1, h2, h3, h4, h5, h6"),i=[],o=0;o<e.length;o++){var h=e[o];i.push(new r(h.tagName,h.textContent,h.id))}return i}function r(t,n,e){this.tagName=t,this.text=n,this.anchor=e,this.children=[]}function i(t,n){function e(t){t!==undefined&&(t.children.length>0&&(t.children=i(t.children,n+1)),u.push(t))}n=n||1;for(var o,h="H"+n,u=[],l=0;l<t.length;l++){var c=t[l];c.tagName.toUpperCase()!==h?(o===undefined&&(o=new r),o.children.push(c)):(e(o),o=c)}return e(o),u}return r.prototype.childrenToString=function(){if(0===this.children.length)return"";for(var t="<ul>\n",n=0;n<this.children.length;n++)t+=this.children[n].toString();return t+="</ul>\n"},r.prototype.toString=function(){var t="<li>";return this.text&&(t+='<a data-no-turbolink=true data-turbolinks=false href="#'+this.anchor+'">'+this.text+"</a>"),t+=this.childrenToString(),t+="</li>\n"},[{type:"output",filter:function(n){var e=t(n);if(0===e.length)return n;e=i(e);var r='<div class="toc">\n<ul>\n'+e.join("")+"</ul>\n</div>\n";return n.replace(/\[toc\]/gi,r)}}]});